{% extends 'lab_base.html' %}

{% block body %}
<h2>Style Lab</h2>
<h4>Step 3: Colors</h4>

<div class="doll-area">
	<!-- this is the base image -->
	<img class="doll" id="blank" src="./static/green.png"/> 
	<!-- this is the layer -->
	<img class="doll" id="selected"/>

</div>
<form action='/myDesignLab' id="color-form" method="post">
	<div>
		<label for="field-colors"> Colors:</label>
	</div>
	{% for color in colors %}
	<div id="{{color.color_id}}">
		<input type="radio" name="color" class="color-button" value="{{color.color_id}}">{{color.color_name}}
		<img id="{{color.color_thumbnail}}" src="./static/{{color.color_thumbnail}}"/>
	</div>
	{% endfor %} 


	<!-- svg files for pant layers to modify colors -->

	<div>
		<label for="field-embroidery">Custom Embroidery:</label>
		<br>
		<input type="radio" name="emb-place" value="inside waist band"> Inside Waistband (front left)<br>
		<input type="radio" name="emb-place" value="outside waist band"> Outside Waistband (back center)<br>
		<textarea rows="4" cols="20" name="embroidery">Add a personal message!</textarea>
		<img name="waist-band">
	</div>
	<div> 
		<input type="submit" href="/myDesignLab" value ="All done!">
	</div>
</form>


<script src="https://code.jquery.com/jquery.js"></script>

<script> // Javascript and JQuery!!!! 
//Might move this to another doc later. 

$(document).ready( function(){
    console.log("ready!");

    $.get('/current-design.json', function (current_design) {
	console.log(current_design);

	

		var selected = $('#selected')

		selected.addClass(current_design.style_id);
		selected.attr('src', current_design.img_layer); 

		selected.addClass(current_design.cut_css);
	});


	// add limit on characters allowed in embroidery textarea

});




</script>

{% endblock %}